<div class="container-fluid p-0 vh-100">
  <div class="row g-0 h-100">
    <!-- Overlay para mobile -->
    <div class="overlay" [class.show]="sidebarOpen" (click)="closeSidebar()"></div>

    <!-- Sidebar Esquerda -->
    <div class="col-auto position-fixed start-0 top-0 sidebar-fixed" [class.show]="sidebarOpen"
      style="background-color: #1e3a5f; height: 100vh; width: 80px; z-index: 1001;">
      <div class="d-flex flex-column align-items-center py-4 position-relative h-100">
        <!-- Botão fechar em mobile -->
        <button class="btn btn-link text-white d-md-none position-absolute top-0 end-0 p-2" (click)="closeSidebar()"
          style="z-index: 1002;">
          <i class="bi bi-x-lg fs-4"></i>
        </button>

        <div class="mb-5 mt-3 mt-md-0">
          <div class="bg-white rounded-circle d-flex align-items-center justify-content-center"
            style="width: 50px; height: 50px;">
            <i class="bi bi-headphones" style="color: #1e3a5f; font-size: 24px;"></i>
          </div>
        </div>
        <div class="mb-4">
          <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
            class="text-white text-decoration-none sidebar-link" (click)="closeSidebar()">
            <i class="bi bi-grid-3x3-gap" style="font-size: 24px;"></i>
            <span class="d-md-none ms-2">Dashboard</span>
          </a>
        </div>
        <div class="mb-4">
          <a routerLink="/tickets" routerLinkActive="active" class="text-white text-decoration-none sidebar-link"
            (click)="closeSidebar()">
            <i class="bi bi-stack" style="font-size: 24px;"></i>
            <span class="d-md-none ms-2">Tickets</span>
          </a>
        </div>
        <div class="mb-4">
          <a routerLink="/kanban" routerLinkActive="active" class="text-white text-decoration-none sidebar-link"
            (click)="closeSidebar()">
            <i class="bi bi-kanban" style="font-size: 24px;"></i>
            <span class="d-md-none ms-2">Kanban</span>
          </a>
        </div>
        <div class="mb-4">
          <a routerLink="/text-reviewer" routerLinkActive="active" class="text-white text-decoration-none sidebar-link"
            (click)="closeSidebar()">
            <i class="bi bi-pencil-square" style="font-size: 24px;"></i>
            <span class="d-md-none ms-2">Revisor</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Conteúdo Principal -->
    <div class="col d-flex flex-column content-wrapper" style="margin-left: 80px;">
      <!-- Header -->
      <div class="bg-white border-bottom px-3 px-md-4 py-2 py-md-3 position-sticky top-0 shadow-sm"
        style="z-index: 999;">
        <div class="d-flex justify-content-between align-items-center">
          <div class="d-flex align-items-center gap-3">
            <button class="btn btn-link d-md-none hamburger-btn" (click)="toggleSidebar()" type="button"
              style="color: #1e3a5f; padding: 0.5rem; min-width: 44px; min-height: 44px;">
              <i class="bi bi-list" style="font-size: 1.75rem;"></i>
            </button>
            <div class="header-title">
              <h4 class="mb-0 fw-semibold" style="color: #1e3a5f;">AXIS Service Desk</h4>
              <small class="text-muted d-none d-sm-inline" style="font-size: 0.75rem;">Sistema de Gestão de Tickets</small>
            </div>
          </div>
          <div class="d-flex align-items-center gap-2 gap-md-3">
            <ng-content select="[header-actions]"></ng-content>
            <div class="d-flex align-items-center gap-2 header-user-info d-none d-md-flex">
              <div
                class="bg-primary rounded-circle d-flex align-items-center justify-content-center text-white shadow-sm"
                style="width: 42px; height: 42px;">
                <i class="bi bi-person-fill"></i>
              </div>
              <div class="d-none d-lg-block">
                <div class="fw-semibold small" style="color: #1e3a5f;">Administrador</div>
                <div class="text-muted" style="font-size: 0.7rem;">admin&#64;empresa.com</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Conteúdo da Página -->
      <div class="flex-grow-1 content-area" style="overflow-y: auto; padding-bottom: 0;">
        <ng-content></ng-content>
      </div>
    </div>
  </div>

  <!-- Navbar Mobile (Bottom) -->
  <nav class="navbar navbar-light bg-white border-top d-md-none fixed-bottom shadow-sm"
    style="z-index: 1000; padding: 0.5rem 0; height: 70px;">
    <div class="container-fluid d-flex justify-content-around align-items-center h-100">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}"
        class="text-decoration-none d-flex flex-column align-items-center justify-content-center nav-mobile-item"
        style="flex: 1;">
        <i class="bi bi-grid-3x3-gap fs-5 mb-1"></i>
        <small class="small">Dashboard</small>
      </a>
      <a routerLink="/tickets" routerLinkActive="active"
        class="text-decoration-none d-flex flex-column align-items-center justify-content-center nav-mobile-item"
        style="flex: 1;">
        <i class="bi bi-stack fs-5 mb-1"></i>
        <small class="small">Tickets</small>
      </a>
      <a routerLink="/kanban" routerLinkActive="active"
        class="text-decoration-none d-flex flex-column align-items-center justify-content-center nav-mobile-item"
        style="flex: 1;">
        <i class="bi bi-kanban fs-5 mb-1"></i>
        <small class="small">Kanban</small>
      </a>
      <a routerLink="/text-reviewer" routerLinkActive="active"
        class="text-decoration-none d-flex flex-column align-items-center justify-content-center nav-mobile-item"
        style="flex: 1;">
        <i class="bi bi-pencil-square fs-5 mb-1"></i>
        <small class="small">Revisor</small>
      </a>
    </div>
  </nav>
</div>
